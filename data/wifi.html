<!DOCTYPE html>
<html lang="en-US" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <title>WiFi configuration</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oxanium:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="pico.min.css" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
  </head>
  <body class="container">
    <nav>
      <ul>
        <li>
          <img src="logo.png" alt="Logo" class="nav-logo" />
          <strong class="nav-text"><span class="cube">Cube</span><span class="radio">Radio</span></strong>
        </li>
      </ul>
      <ul>
        <li>
          <details class="dropdown">
            <summary>Wifi</summary>
            <ul dir="rtl">
              <li><a href="/">Player</a></li>
              <li><a href="/playlist">Playlist</a></li>
              <li><a href="/wifi" aria-current="page">Wifi</a></li>
              <li><a href="/config">Configuration</a></li>
              <li><a href="/about">About</a></li>
            </ul>
          </details>
        </li>
        <li>
          <button id="theme-toggle" class="outline" aria-label="Toggle theme" 
                  onclick="toggleTheme()">◐</button>
        </li>
      </ul>
    </nav>
    <main>
      <article>
        <hgroup>
          <h2>Available networks</h2>
          <p>
            Select a network from the list below to add it to your
            configuration. Networks marked with ★ are already configured.
          </p>
        </hgroup>
        <div id="networks">
          <p>Press «Refresh networks» to start scanning for WiFi networks</p>
        </div>
        <footer>
          <button type="submit" onclick="scanNetworks()">
            Refresh networks
          </button>
        </footer>
      </article>
      <article>
        <hgroup>
          <h2>Configure WiFi networks</h2>
          <p>
            Add up to 5 WiFi networks. The device will try to connect to them
            in order of preference. Drag and drop to reorder networks.
          </p>
        </hgroup>
        <form id="wifi-form">
          <div role="group" class="network-entry" draggable="true">
            <div class="drag-handle">⋮⋮</div>
            <input
              type="text"
              id="ssid0"
              name="ssid0"
              placeholder="Enter SSID" />
            <input
              type="password"
              id="password0"
              name="password0"
              placeholder="Enter password" />
            <button
              type="button"
              class="remove-btn secondary"
              onclick="removeNetworkField(this)">
              Remove
            </button>
          </div>
        </form>
        <footer>
          <div class="grid">
            <button type="button" onclick="addNetworkField()">
              Add network
            </button>
            <button type="submit" form="wifi-form">Save configuration</button>
          </div>
        </footer>
      </article>
    </main>
    <footer class="connection-status-section">
      <hgroup>
        <h2>Connection status</h2>
        <p>Current network connection information</p>
      </hgroup>
      <div id="connection-status" class="connection-status-content">
        <p aria-busy="true">Loading connection status...</p>
      </div>
    </footer>
    <script src="scripts.js"></script>
    <script>
      // Initialize the WiFi page when DOM is loaded
      document.addEventListener("DOMContentLoaded", function () {
        initTheme();            // Initialize theme settings
        initWiFiPage();         // Initialize WiFi page functionality
      });
    </script>
  </body>
</html>
