<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>NetTuner - WiFi Configuration</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1>NetTuner - WiFi Configuration</h1>
        
        <div class="section">
            <h2>Available Networks</h2>
            <p class="help-text">Select a network from the list below to add it to your configuration. Networks marked with â˜… are already configured.</p>
            <div id="networks">Scanning for networks...</div>
            <div class="form-group">
                <button class="btn-secondary" onclick="scanNetworks()">Refresh Networks</button>
            </div>
        </div>
        
        <div class="section">
            <h2>Configure WiFi Networks</h2>
            <p class="help-text">Add up to 5 WiFi networks. The device will try to connect to them in order of preference.</p>
            <div class="form-group">
                <small class="form-help">Tip: Add your most reliable networks first. The device will connect to the first available network in the list.</small>
            </div>
            <form id="wifiForm">
                <div id="networkFields">
                    <div class="network-entry">
                        <div class="form-group">
                            <label for="ssid0">Primary Network (SSID):</label>
                            <input type="text" id="ssid0" name="ssid0" placeholder="Enter SSID">
                        </div>
                        <div class="form-group">
                            <label for="password0">Password:</label>
                            <input type="password" id="password0" name="password0" placeholder="Enter Password">
                        </div>
                    </div>
                </div>
                <button type="button" id="addNetwork" class="btn-secondary" onclick="addNetworkField()">Add Network</button>
                <button type="submit" class="btn-primary">Save Configuration</button>
            </form>
        </div>
        
        <div class="section">
            <h2>Connection Status</h2>
            <p class="help-text">Current network connection information</p>
            <div id="connection-status">
                <p>Loading connection status...</p>
            </div>
        </div>
        
        <div class="form-actions">
            <button class="btn-back" onclick="window.location.href='/'">Back to Main</button>
        </div>
    </div>

    <script src="/scripts.js"></script>
    <script>
        // Initialize the WiFi page and load connection status
        document.addEventListener('DOMContentLoaded', function() {
            initWiFiPage();
            loadConnectionStatus();
            // Don't automatically scan networks - user must click Refresh Networks button
        });
    </script>
</body>
</html>
