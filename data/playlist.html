<!DOCTYPE html>
<html lang="en-US" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <title>Playlist management</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="pico.min.css" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="container">
    <nav>
      <ul>
        <li><strong>NetTuner</strong></li>
      </ul>
      <ul>
        <li>
          <details class="dropdown">
            <summary>Playlist</summary>
            <ul dir="rtl">
              <li><a href="/" dir="ltr">Player</a></li>
              <li><a href="/playlist" aria-current="page">Playlist</a></li>
              <li><a href="/wifi">Wifi</a></li>
              <li><a href="/config">Configuration</a></li>
              <li><a href="/about">About</a></li>
            </ul>
          </details>
        </li>
        <li>
          <button id="theme-toggle" class="outline" aria-label="Toggle theme" 
                  onclick="toggleTheme()">‚óê</button>
        </li>
      </ul>
    </nav>
    <main>
      <article>
        <hgroup>
          <h2>Current playlist</h2>
          <p>Edit, remove, or reorder existing streams in your playlist.</p>
        </hgroup>
        <div class="overflow-auto" id="playlist-body">
          <span class="empty-playlist">No streams in playlist</span>
        </div>
        <footer>
          <div role="group">
            <button type="submit" id="save-playlist-btn" onclick="savePlaylist()">
              Send playlist
            </button>
            <button type="button" class="secondary" onclick="loadStreams()">
              Reset
            </button>
          </div>
        </footer>
      </article>
      <article>
        <hgroup>
          <h2>Add new station</h2>
          <p>
            Enter the details for a new radio stream to add to your playlist.
          </p>
        </hgroup>
        <div>
          <label for="url">Stream URL
            <input type="url" id="url" placeholder="Enter stream URL (http://...)" required />
            <small>Must be a valid HTTP or HTTPS URL</small>
          </label>
          <label for="name">Station name
            <input type="text" id="name" placeholder="Enter station name" required />
            <small>A descriptive name for this station</small>
          </label>
        </div>
        <footer>
          <button type="submit" onclick="addStation()">Add station to playlist</button>
        </footer>
      </article>
      <article>
        <hgroup>
          <h2>Playlist management</h2>
          <p>Import or export your playlist in different formats.</p>
        </hgroup>
        <label for="playlist-file">Upload playlist file:
          <input type="file" id="playlist-file" accept=".json,.m3u,.m3u8,.pls" 
                 onchange="handlePlaylistFileSelect()"/>
          <small>Supported formats: JSON, M3U, PLS</small>
        </label>
        <footer class="grid">
          <div role="group">
            <button id="upload-playlist-btn" onclick="uploadPlaylist()" disabled>
              Upload playlist
            </button>
          </div>
          <div role="group">
            <button
              id="download-json-btn" class="secondary" onclick="downloadJSON()">
              JSON
            </button>
            <button
              id="download-m3u-btn" class="secondary" onclick="downloadM3U()"> 
              M3U
            </button>
            <button
              id="download-pls-btn" class="secondary" onclick="downloadPLS()"> 
              PLS
            </button>
          </div>
        </footer>
      </article>
      <article>
        <hgroup>
          <h2>Remote playlist</h2>
          <p>
            Import items from a remote playlist in JSON, M3U and PLS formats.
          </p>
        </hgroup>
        <label for="remote-playlist-url">Remote playlist URL</label>
        <div role="group">
          <input type="url" id="remote-playlist-url"
            placeholder="Enter remote playlist URL (http://...)" />
          <button onclick="importRemotePlaylist()">Import</button>
        </div>
      </article>
    </main>
    <script src="scripts.js"></script>
    <script>
      // Initialize the playlist page when DOM is loaded
      document.addEventListener("DOMContentLoaded", function () {
        initTheme();        // Initialize theme settings
        initPlaylistPage(); // Initialize playlist page functionality
      });
    </script>
  </body>
</html>
